<input [(ngModel)]="search"
       typeaheadOptionField="name"
       [typeahead]="dataSource$"
       [typeaheadAsync]="true"
       [typeaheadWaitMs]="400"
       (typeaheadOnSelect)="onSelected($event)"
       (typeaheadLoading)="loading = $event"
       [typeaheadItemTemplate]="itemTemplate"
       [disabled]="disabled"
       class="form-control"
       placeholder="Pesquisar">

<div *ngIf="loading">Carregando</div>

<ng-template let-item="item" #itemTemplate>
    <span>{{ item.name }}, {{item.country }}</span>
</ng-template>